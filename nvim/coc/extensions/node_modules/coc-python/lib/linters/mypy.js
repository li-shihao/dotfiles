"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const coc_nvim_1 = require("coc.nvim");
const types_1 = require("../common/types");
const baseLinter_1 = require("./baseLinter");
exports.REGEX = '(?<file>[^:]+):(?<line>\\d+)(:(?<column>\\d+))?: (?<type>\\w+): (?<message>.*)\\r?(\\n|$)';
class MyPy extends baseLinter_1.BaseLinter {
    constructor(outputChannel, serviceContainer) {
        super(types_1.Product.mypy, outputChannel, serviceContainer);
    }
    async runLinter(document, cancellation) {
        const messages = await this.run([coc_nvim_1.Uri.parse(document.uri).fsPath], document, cancellation, exports.REGEX);
        messages.forEach(msg => {
            msg.severity = this.parseMessagesSeverity(msg.type, this.pythonSettings.linting.mypyCategorySeverity);
            msg.code = msg.type;
        });
        return messages;
    }
}
exports.MyPy = MyPy;
//# sourceMappingURL=mypy.js.map